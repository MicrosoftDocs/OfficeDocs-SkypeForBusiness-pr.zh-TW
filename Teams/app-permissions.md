---
title: Microsoft 團隊 app 許可權和考慮
author: rmw2890
ms.author: rowille
manager: serdars
ms.date: 10/18/2018
ms.topic: conceptual
ms.service: msteams
MS.collection:
- Teams_ITAdmin_PracticalGuidance
- M365-collaboration
search.appverid: MET150
ms.reviewer: rowille
description: 瞭解哪些資料和許可權應用程式是從您的組織要求的。
localization_priority: Normal
appliesto:
- Microsoft Teams
ms.openlocfilehash: 598fd2d9dc8c8942a2d82e136c8367afa4d8495e
ms.sourcegitcommit: 208321bb45f7fb228757b9958a13f7e0bca91687
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/25/2019
ms.locfileid: "36184371"
---
# <a name="microsoft-teams-apps-permissions-and-considerations"></a><span data-ttu-id="14fa6-103">Microsoft 團隊 app 許可權和考慮</span><span class="sxs-lookup"><span data-stu-id="14fa6-103">Microsoft Teams apps permissions and considerations</span></span>

<span data-ttu-id="14fa6-104">Microsoft 團隊 app 是一種將一或多項功能匯總成_應用程式套件_的方法, 可供安裝、升級及卸載。</span><span class="sxs-lookup"><span data-stu-id="14fa6-104">Microsoft Teams apps are a way to aggregate one or more capabilities into an _app package_ that can be installed, upgraded, and uninstalled.</span></span> <span data-ttu-id="14fa6-105">這些功能包括:</span><span class="sxs-lookup"><span data-stu-id="14fa6-105">The capabilities include:</span></span>

- <span data-ttu-id="14fa6-106">Bot</span><span class="sxs-lookup"><span data-stu-id="14fa6-106">Bots</span></span>
- <span data-ttu-id="14fa6-107">郵件擴充功能</span><span class="sxs-lookup"><span data-stu-id="14fa6-107">Messaging extensions</span></span>
- <span data-ttu-id="14fa6-108">索引標籤</span><span class="sxs-lookup"><span data-stu-id="14fa6-108">Tabs</span></span>
- <span data-ttu-id="14fa6-109">連接線</span><span class="sxs-lookup"><span data-stu-id="14fa6-109">Connectors</span></span>

<span data-ttu-id="14fa6-110">應用程式受到使用者的同意, 且由策略的觀點加以管理。</span><span class="sxs-lookup"><span data-stu-id="14fa6-110">Apps are consented to by users and managed by IT from a policy perspective.</span></span> <span data-ttu-id="14fa6-111">不過, 在大多數情況下, 應用程式的許可權和風險設定檔是由 app 所包含之功能的許可權和風險設定檔所定義。</span><span class="sxs-lookup"><span data-stu-id="14fa6-111">However, for the most part, an app's permissions and risk profile are defined by the permissions and risk profiles of the capabilities that the app contains.</span></span> <span data-ttu-id="14fa6-112">因此, 本文著重說明功能層級的許可權和考慮。</span><span class="sxs-lookup"><span data-stu-id="14fa6-112">Therefore, this article focuses on permissions and considerations at the capability level.</span></span>

<span data-ttu-id="14fa6-113">下列是大寫字母 (例如 RECEIVE_MESSAGE 和 REPLYTO_MESSAGE) 中所列的許可權, 不會出現在[Microsoft 團隊開發人員檔](https://aka.ms/teamsdevdocs)中的任何位置或[microsoft Graph 的許可權](https://developer.microsoft.com/graph/docs/concepts/permissions_reference)中。</span><span class="sxs-lookup"><span data-stu-id="14fa6-113">The permissions listed below in capital letters, for example RECEIVE_MESSAGE and REPLYTO_MESSAGE, don't appear anywhere in the [Microsoft Teams developer documentation](https://aka.ms/teamsdevdocs) or the [permissions for Microsoft Graph](https://developer.microsoft.com/graph/docs/concepts/permissions_reference).</span></span> <span data-ttu-id="14fa6-114">它們只是本文用途的描述性簡寫。</span><span class="sxs-lookup"><span data-stu-id="14fa6-114">They're simply a descriptive shorthand for the purpose of this article.</span></span>


|    |     |
|-----------|------------|
| ![描述決策點的圖示](media/audio_conferencing_image7.png) <br/><span data-ttu-id="14fa6-116">決策點</span><span class="sxs-lookup"><span data-stu-id="14fa6-116">Decision point</span></span>|<ul><li><span data-ttu-id="14fa6-117">您可以使用下表做為說明, 瞭解您正在調查哪些應用程式要求哪些許可權。</span><span class="sxs-lookup"><span data-stu-id="14fa6-117">Use the tables below as a guide to understand which permissions the apps you're investigating are requesting.</span></span></li></ul> |
| ![描述下一個步驟的圖示](media/audio_conferencing_image9.png)<br/><span data-ttu-id="14fa6-119">下一個步驟</span><span class="sxs-lookup"><span data-stu-id="14fa6-119">Next step</span></span>|<ul><li><span data-ttu-id="14fa6-120">研究 app 或服務本身, 決定是否要允許您組織中的存取權。</span><span class="sxs-lookup"><span data-stu-id="14fa6-120">Research the app or service itself to decide whether you want to allow access to it within your organization.</span></span> <span data-ttu-id="14fa6-121">例如, bot 會從使用者傳送和接收訊息, 除了企業業務線 bot 之外, 它們位於合規性界限外。</span><span class="sxs-lookup"><span data-stu-id="14fa6-121">For example, bots send and receive messages from users, and—except for enterprise line-of-business bots—they're located outside the compliance boundary.</span></span> <span data-ttu-id="14fa6-122">因此, 任何包含 bot 的 app 都需要這些許可權, 並至少擁有該風險設定檔。</span><span class="sxs-lookup"><span data-stu-id="14fa6-122">Therefore, any app that includes a bot requires those permissions and has that risk profile, at a minimum.</span></span> </li></ul>|

## <a name="global-app-permissions-and-considerations"></a><span data-ttu-id="14fa6-123">全域 app 許可權和考慮</span><span class="sxs-lookup"><span data-stu-id="14fa6-123">Global app permissions and considerations</span></span>

<table>
  <tr>
    <th width="25%"><span data-ttu-id="14fa6-124">所需許可權</span><span class="sxs-lookup"><span data-stu-id="14fa6-124">Required permissions</span></span></th>
    <th width="25%"><span data-ttu-id="14fa6-125">選用許可權</span><span class="sxs-lookup"><span data-stu-id="14fa6-125">Optional permissions</span></span></th>
    <th width="50%"><span data-ttu-id="14fa6-126">考量</span><span class="sxs-lookup"><span data-stu-id="14fa6-126">Considerations</span></span></th>
  </tr>
  <tr>
    <td valign="top"><span data-ttu-id="14fa6-127">無</span><span class="sxs-lookup"><span data-stu-id="14fa6-127">None</span></span></td>
    <td valign="top"><span data-ttu-id="14fa6-128">無</span><span class="sxs-lookup"><span data-stu-id="14fa6-128">None</span></span></td>
    <td valign="top"><span data-ttu-id="14fa6-129">應用程式必須披露它所使用的資料, 以及資料在其使用條款和隱私權原則連結中的用途。</span><span class="sxs-lookup"><span data-stu-id="14fa6-129">An app must disclose what data it uses and what the data is used for in its terms of use and privacy policy links.</span></span></td>
  </tr>
</table>

## <a name="bots-and-messaging-extensions"></a><span data-ttu-id="14fa6-130">Bot 和訊息擴充功能</span><span class="sxs-lookup"><span data-stu-id="14fa6-130">Bots and messaging extensions</span></span>

<table>
 <thead>
  <tr>
    <th width="0.5%"></th>
    <th width="24.5%"><span data-ttu-id="14fa6-131">所需許可權</span><span class="sxs-lookup"><span data-stu-id="14fa6-131">Required permissions</span></span></th>
    <th width="25%"><span data-ttu-id="14fa6-132">選用許可權</span><span class="sxs-lookup"><span data-stu-id="14fa6-132">Optional permissions</span></span></th>
    <th width="50%"><span data-ttu-id="14fa6-133">考量</span><span class="sxs-lookup"><span data-stu-id="14fa6-133">Considerations</span></span></th>
  </tr>
</thead>
<tbody>
   <tr>
    <td valign="top" colspan="2"><ul><li>   <span data-ttu-id="14fa6-134">RECEIVE_MESSAGE, REPLYTO_MESSAGE.</span><span class="sxs-lookup"><span data-stu-id="14fa6-134">RECEIVE_MESSAGE, REPLYTO_MESSAGE.</span></span> <span data-ttu-id="14fa6-135">Bot 可以接收來自使用者的訊息並回復。<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="14fa6-135">The bot can receive messages from users and reply to them.<sup>1</sup></span></span></li><li><span data-ttu-id="14fa6-136">POST_MESSAGE_USER.</span><span class="sxs-lookup"><span data-stu-id="14fa6-136">POST_MESSAGE_USER.</span></span> <span data-ttu-id="14fa6-137">使用者將郵件傳送至 bot 之後, bot 就可以隨時傳送使用者的直接訊息 (也稱為<em>預先訊息</em>)。</span><span class="sxs-lookup"><span data-stu-id="14fa6-137">After a user has sent a message to a bot, the bot can send the user direct messages (also called <em>proactive messages</em>) at any time.</span></span></li><li><span data-ttu-id="14fa6-138">GET_CHANNEL_LIST.</span><span class="sxs-lookup"><span data-stu-id="14fa6-138">GET_CHANNEL_LIST.</span></span> <span data-ttu-id="14fa6-139">新增至團隊的 bot 可以取得團隊中頻道的名稱和識別碼清單。</span><span class="sxs-lookup"><span data-stu-id="14fa6-139">Bots added to teams can get a list of names and IDs of the channels in a team.</span></span></li></ul></td>
    <td valign="top"><ul><li><span data-ttu-id="14fa6-140">等.</span><span class="sxs-lookup"><span data-stu-id="14fa6-140">IDENTITY.</span></span> <span data-ttu-id="14fa6-141">在頻道中使用&#39;s 時, 應用程式&#39;s 機器人可以存取小組成員的基本身分識別資訊 (名字、姓氏、使用者主體名稱 [UPN]、電子郵件地址);在個人或群組聊天中使用&#39;s 時, bot 可以為這些使用者存取相同的資訊。</span><span class="sxs-lookup"><span data-stu-id="14fa6-141">When it&#39;s used in a channel, the app&#39;s bots can access basic identity information of team members (first name, last name, user principal name [UPN], email address); when it&#39;s used in a personal or group chat, the bot can access the same information for those users.</span></span></li><li> <span data-ttu-id="14fa6-142">POST_MESSAGE_TEAM.</span><span class="sxs-lookup"><span data-stu-id="14fa6-142">POST_MESSAGE_TEAM.</span></span> <span data-ttu-id="14fa6-143">可讓 app&#39;s bot 在任何時間傳送直接 (主動) 訊息給任何小組成員, 即使使用者之前從未與 bot 交談也一樣。</span><span class="sxs-lookup"><span data-stu-id="14fa6-143">Allows an app&#39;s bots to send direct (proactive) messages to any team member at any time, even if the user has never talked to the bot before.</span></span></li><li><span data-ttu-id="14fa6-144">下列內容不是明確的許可權, 但由 RECEIVE_MESSAGE 和 REPLYTO_MESSAGE 以及可以使用機器人的範圍 (在資訊清單中宣告) 來隱含:</span><span class="sxs-lookup"><span data-stu-id="14fa6-144">The following are not explicit permissions, but are implied by RECEIVE_MESSAGE and REPLYTO_MESSAGE and the scopes into which the bots can be used, declared in the manifest:</span></span> <ul><li><span data-ttu-id="14fa6-145">RECEIVE_MESSAGE_PERSONAL, REPLYTO_MESSAGE_PERSONAL</span><span class="sxs-lookup"><span data-stu-id="14fa6-145">RECEIVE_MESSAGE_PERSONAL, REPLYTO_MESSAGE_PERSONAL</span></span></li><li><span data-ttu-id="14fa6-146">RECEIVE_MESSAGE_GROUPCHAT, REPLYTO_MESSAGE_GROUPCHAT</span><span class="sxs-lookup"><span data-stu-id="14fa6-146">RECEIVE_MESSAGE_GROUPCHAT, REPLYTO_MESSAGE_GROUPCHAT</span></span></li><li><span data-ttu-id="14fa6-147">RECEIVE_MESSAGE_TEAM, REPLYTO_MESSAGE_TEAM</span><span class="sxs-lookup"><span data-stu-id="14fa6-147">RECEIVE_MESSAGE_TEAM, REPLYTO_MESSAGE_TEAM</span></span></li></ul><li><span data-ttu-id="14fa6-148">SEND_FILES, RECEIVE_FILES.<sup>2</sup>控制 bot 是否可以在個人聊天中傳送和接收檔案 (群組聊天或頻道尚不支援此功能)。</span><span class="sxs-lookup"><span data-stu-id="14fa6-148">SEND_FILES, RECEIVE_FILES.<sup>2</sup> Controls whether a bot can send and receive files in personal chat (not yet supported for group chat or channels).</span></span></li></ul></td>
    <td valign="top"><ul><li><span data-ttu-id="14fa6-149">Bot 只能存取他們&#39;ve 的小組, 或已安裝他們的使用者。</span><span class="sxs-lookup"><span data-stu-id="14fa6-149">Bots only have access to teams to which they&#39;ve been added or to users who have installed them.</span></span></li><li><span data-ttu-id="14fa6-150">Bot 只會接收使用者明確提及&#39;的訊息。</span><span class="sxs-lookup"><span data-stu-id="14fa6-150">Bots only receive messages in which they&#39;re explicitly mentioned by users.</span></span> <span data-ttu-id="14fa6-151">這個資料離開了公司網路。</span><span class="sxs-lookup"><span data-stu-id="14fa6-151">This data leaves the corporate network.</span></span></li><li>    <span data-ttu-id="14fa6-152">Bot 只能回復&#39;提及的交談。</span><span class="sxs-lookup"><span data-stu-id="14fa6-152">Bots can only reply to conversations in which they&#39;re mentioned.</span></span></li><li><span data-ttu-id="14fa6-153">在使用者使用 bot conversed 之後, 如果 bot 將該&#39;使用者儲存在 ID 上, 就可以隨時將該使用者傳送給您的訊息。</span><span class="sxs-lookup"><span data-stu-id="14fa6-153">After a user has conversed with a bot, if the bot stores that user&#39;s ID, it can send that user direct messages at any time.</span></span> </li><li><span data-ttu-id="14fa6-154">在理論上, bot 郵件可能會包含網路釣魚或惡意程式碼網站的連結, 但使用者、租使用者管理員或由 Microsoft 全域封鎖機器人。</span><span class="sxs-lookup"><span data-stu-id="14fa6-154">It is theoretically possible for bot messages to contain links to phishing or malware sites, but bots can be blocked by the user, the tenant admin, or globally by Microsoft.</span></span> </li><li><span data-ttu-id="14fa6-155">Bot 可以針對應用程式新增至的小組成員, 或針對個人或群組聊天中的個別使用者, 取得 (且可能會儲存) 基本身分識別資訊。</span><span class="sxs-lookup"><span data-stu-id="14fa6-155">A bot can retrieve (and might store) very basic identity information for the team members the app has been added to, or for individual users in personal or group chats.</span></span> <span data-ttu-id="14fa6-156">若要取得這些使用者的進一步資訊, bot 必須要求他們登入 Azure Active Directory (Azure AD)。</span><span class="sxs-lookup"><span data-stu-id="14fa6-156">To get further information about these users, the bot must require them to sign in to Azure Active Directory (Azure AD).</span></span> </li><li><span data-ttu-id="14fa6-157">Bot 可以在小組中檢索 (且可能會儲存) 頻道清單;這個資料離開了公司網路。</span><span class="sxs-lookup"><span data-stu-id="14fa6-157">Bots can retrieve (and might store) the list of channels in a team; this data leaves the corporate network.</span></span> </li><li><span data-ttu-id="14fa6-158">當檔案傳送至 bot 時, 檔案會離開公司網路。</span><span class="sxs-lookup"><span data-stu-id="14fa6-158">When a file is sent to a bot, the file leaves the corporate network.</span></span> <span data-ttu-id="14fa6-159">傳送和接收檔案需要針對每個檔案進行使用者核准。</span><span class="sxs-lookup"><span data-stu-id="14fa6-159">Sending and receiving files requires user approval for each file.</span></span> </li><li><span data-ttu-id="14fa6-160">根據預設, bot 會讓&#39;t 能代表使用者進行動作, 但機器人可以要求使用者登入;只要使用者登入, bot 就會有存取權杖, 讓它可以執行其他專案。</span><span class="sxs-lookup"><span data-stu-id="14fa6-160">By default, bots don&#39;t have the ability to act on behalf of the user, but bots can ask users to sign in; as soon as the user signs in, the bot will have an access token with which it can do additional things.</span></span> <span data-ttu-id="14fa6-161">這些額外的專案取決於 bot 以及使用者登入的位置: bot 是已註冊的 Azure AD app <a href="https://apps.dev.microsoft.com/">https://apps.dev.microsoft.com/</a> , 而且可以有自己的許可權集。</span><span class="sxs-lookup"><span data-stu-id="14fa6-161">Exactly what those additional things are depends on the bot and where the user signs in: a bot is an Azure AD app registered at <a href="https://apps.dev.microsoft.com/">https://apps.dev.microsoft.com/</a> and can have its own set of permissions.</span></span></li><li><span data-ttu-id="14fa6-162">每當在小組中新增或刪除使用者時, 系統會通知機器人。</span><span class="sxs-lookup"><span data-stu-id="14fa6-162">Bots are informed whenever users are added to or deleted from a team.</span></span></li><li><span data-ttu-id="14fa6-163">Bot 不&#39;t 請參閱使用者&#39; IP 位址或其他推薦的資訊。</span><span class="sxs-lookup"><span data-stu-id="14fa6-163">Bots don&#39;t see users&#39; IP addresses or other referrer information.</span></span> <span data-ttu-id="14fa6-164">所有資訊都來自 Microsoft。</span><span class="sxs-lookup"><span data-stu-id="14fa6-164">All information comes from Microsoft.</span></span> <span data-ttu-id="14fa6-165">(有一個例外狀況: 如果 bot 實現自己的登入體驗, 登入 UI 會看到使用者&#39; IP 位址與引用者資訊。)</span><span class="sxs-lookup"><span data-stu-id="14fa6-165">(There is one exception: if a bot implements its own sign-in experience, the sign-in UI will see users&#39; IP addresses and referrer information.)</span></span></li><li><span data-ttu-id="14fa6-166">[訊息延伸] 的另一方面, 請參閱使用者&#39; IP 位址和引用資訊。</span><span class="sxs-lookup"><span data-stu-id="14fa6-166">Messaging extensions, on the other hand, do see users&#39; IP addresses and referrer information.</span></span></li><li><span data-ttu-id="14fa6-167">應用程式指導方針 (以及我們的 AppSource 審查程式) 需要在將個人聊天訊息張貼給使用者時 (透過 POST_MESSAGE_TEAM 許可權) 來決定有效用途。</span><span class="sxs-lookup"><span data-stu-id="14fa6-167">App guidelines (and our AppSource review process) require discretion in posting personal chat messages to users (via the POST_MESSAGE_TEAM permission) for valid purposes.</span></span> <span data-ttu-id="14fa6-168">在使用不當的情況下, 使用者可以封鎖機器人, 租使用者系統管理員可以封鎖 app, 而且 Microsoft 可以視需要集中封鎖機器人。</span><span class="sxs-lookup"><span data-stu-id="14fa6-168">In the event of abuse, users can block the bot, tenant admins can block the app, and Microsoft can block bots centrally if necessary.</span></span></li></ul></td>
</tr>
</tbody>
<tfoot>
<tr><td align="right"><span data-ttu-id="14fa6-169"><sup>sr-1</sup></span><span class="sxs-lookup"><span data-stu-id="14fa6-169"><sup>1</sup></span></span></td><td colspan="3"><span data-ttu-id="14fa6-170">有些 bot 只會傳送訊息 (POST_MESSAGE_USER)。</span><span class="sxs-lookup"><span data-stu-id="14fa6-170">Some bots only send messages (POST_MESSAGE_USER).</span></span> <span data-ttu-id="14fa6-171">它們&#39;稱為&quot;僅限&quot;通知的機器人, 但不&#39;t 會參照允許或不允許 bot 執行的動作, 這表示 bot 不會&#39;t 想要公開會話中的體驗。</span><span class="sxs-lookup"><span data-stu-id="14fa6-171">They&#39;re called &quot;notification-only&quot; bots, but the term doesn&#39;t refer to what a bot is allowed or not allowed to do, it means that the bot doesn&#39;t want to expose a conversational experience.</span></span> <span data-ttu-id="14fa6-172">團隊使用此欄位來停用通常會啟用的 UI 中的功能;bot 不會&#39;t 限制其&#39;的功能, 與確實會公開會話體驗的 bot 進行比較。</span><span class="sxs-lookup"><span data-stu-id="14fa6-172">Teams uses this field to disable functionality in the UI that would ordinarily be enabled; the bot isn&#39;t restricted in what it&#39;s allowed to do compared to bots that do expose a conversational experience.</span></span></td></tr>
<tr><td align="right"><span data-ttu-id="14fa6-173"><sup>pplx-2</sup></span><span class="sxs-lookup"><span data-stu-id="14fa6-173"><sup>2</sup></span></span></td><td colspan="3"><span data-ttu-id="14fa6-174">由應用程式<code>supportsFiles</code>的資訊清單 .csv 檔案中 bot 物件的布林值屬性所管轄。</span><span class="sxs-lookup"><span data-stu-id="14fa6-174">Governed by the <code>supportsFiles</code> Boolean property on the bot object in the manifest.json file for the app.</span></span></td>
</tr>
</tfoot>
</table>

> [!Note]
> <ul><li><span data-ttu-id="14fa6-175">如果 bot 有自己的登入, 在使用者第一次登入時, 會有另一個不同的方式: 同意體驗。</span><span class="sxs-lookup"><span data-stu-id="14fa6-175">If a bot has its own sign-in, there's a second—different—consent experience the first time the user signs in.</span></span></li><li><span data-ttu-id="14fa6-176">目前, 與團隊應用程式 (bot、索引標籤、連接器或訊息延伸) 內任何功能相關聯的 Azure AD 許可權, 都與此處所列的小組許可權完全不同。</span><span class="sxs-lookup"><span data-stu-id="14fa6-176">Currently, the Azure AD permissions associated with any of the capabilities inside a Teams app (bot, tab, connector, or messaging extension) are completely separate from the Teams permissions listed here.</span></span></li></ul>


## <a name="tabs"></a><span data-ttu-id="14fa6-177">索引標籤</span><span class="sxs-lookup"><span data-stu-id="14fa6-177">Tabs</span></span>

<span data-ttu-id="14fa6-178">[索引標籤] 是在團隊內執行的網站。</span><span class="sxs-lookup"><span data-stu-id="14fa6-178">A tab is a website running inside Teams.</span></span>

<table>
  <tr>
    <th width="25%"><span data-ttu-id="14fa6-179">所需許可權</span><span class="sxs-lookup"><span data-stu-id="14fa6-179">Required permissions</span></span></th>
    <th width="25%"><span data-ttu-id="14fa6-180">選用許可權</span><span class="sxs-lookup"><span data-stu-id="14fa6-180">Optional permissions</span></span></th>
    <th width="50%"><span data-ttu-id="14fa6-181">考量</span><span class="sxs-lookup"><span data-stu-id="14fa6-181">Considerations</span></span></th>
  </tr>
  <tr>
    <td valign="top"><span data-ttu-id="14fa6-182">SEND_AND_RECEIVE_WEB_DATA</span><span class="sxs-lookup"><span data-stu-id="14fa6-182">SEND_AND_RECEIVE_WEB_DATA</span></span></td>
    <td valign="top"><span data-ttu-id="14fa6-183">None (目前)。</span><span class="sxs-lookup"><span data-stu-id="14fa6-183">None (currently).</span></span></td>
    <td valign="top"><ul><li><span data-ttu-id="14fa6-184">索引標籤的風險設定檔與在瀏覽器索引標籤上執行的相同網站幾乎完全相同。</span><span class="sxs-lookup"><span data-stu-id="14fa6-184">The risk profile for a tab is almost identical to that same website running in a browser tab.</span></span> </li><li><span data-ttu-id="14fa6-185">索引標籤也會取得執行&#39;s 的內容, 包括目前使用者的登入名稱和 UPN, 以及目前使用者的 Azure AD 物件識別碼、其所在之 Office 365 群組的識別碼 (如果它是團隊)、租使用者識別碼, 以及使用者目前的地區設定。</span><span class="sxs-lookup"><span data-stu-id="14fa6-185">A tab also gets the context in which it&#39;s running, including the sign-in name and UPN of the current user, the Azure AD Object ID for the current user, the ID of the Office 365 Group in which it resides (if it's a team), the tenant ID, and the current locale of the user.</span></span> <span data-ttu-id="14fa6-186">不過, 若要將這些識別碼對應給使用者&#39;s 資訊, 該索引標籤必須讓使用者登入 Azure AD。</span><span class="sxs-lookup"><span data-stu-id="14fa6-186">However, to map these IDs to a user&#39;s information, the tab would have to make the user sign in to Azure AD.</span></span></li></ul></td>
  </tr>
  </table>

## <a name="connectors"></a><span data-ttu-id="14fa6-187">連接線</span><span class="sxs-lookup"><span data-stu-id="14fa6-187">Connectors</span></span>

<span data-ttu-id="14fa6-188">當外部系統中的事件發生時, 連接器會將訊息張貼到頻道。</span><span class="sxs-lookup"><span data-stu-id="14fa6-188">A connector posts messages to a channel when events in an external system occur.</span></span>

  <table>
  <tr>
    <th width="25%"><span data-ttu-id="14fa6-189">所需許可權</span><span class="sxs-lookup"><span data-stu-id="14fa6-189">Required permissions</span></span></th>
    <th width="25%"><span data-ttu-id="14fa6-190">選用許可權</span><span class="sxs-lookup"><span data-stu-id="14fa6-190">Optional permissions</span></span></th>
    <th width="50%"><span data-ttu-id="14fa6-191">考量</span><span class="sxs-lookup"><span data-stu-id="14fa6-191">Considerations</span></span></th>
  </tr>
  <tr>
    <td valign="top"><span data-ttu-id="14fa6-192">POST_MESSAGE_CHANNEL</span><span class="sxs-lookup"><span data-stu-id="14fa6-192">POST_MESSAGE_CHANNEL</span></span></td>
    <td valign="top"><span data-ttu-id="14fa6-193">REPLYTO_CONNECTOR_MESSAGE.</span><span class="sxs-lookup"><span data-stu-id="14fa6-193">REPLYTO_CONNECTOR_MESSAGE.</span></span> <span data-ttu-id="14fa6-194">某些連接器支援可<em>操作的訊息</em>, 讓使用者能夠將回應傳送給連接器訊息, 例如新增對 GitHub 問題的回復或將日期新增至 Trello 卡片。</span><span class="sxs-lookup"><span data-stu-id="14fa6-194">Certain connectors support <em>actionable messages</em>, which allow users to post targeted replies to the connector message, for example by adding a response to a GitHub issue or adding a date to a Trello card.</span></span></td>
    <td valign="top"><ul><li><span data-ttu-id="14fa6-195">傳送連接器訊息的系統不會&#39;t 知道是誰&#39;傳送給或接收郵件的人員: 不透露給收件者的任何相關資訊。</span><span class="sxs-lookup"><span data-stu-id="14fa6-195">The system that posts connector messages doesn&#39;t know who it&#39;s posting to or who receives the messages: no information about the recipient is disclosed.</span></span> <span data-ttu-id="14fa6-196">(Microsoft 是實際的收件者, 不是租使用者;Microsoft 會執行實際的頻道張貼。)</span><span class="sxs-lookup"><span data-stu-id="14fa6-196">(Microsoft is the actual recipient, not the tenant; Microsoft does the actual post to the channel.)</span></span></li><li><span data-ttu-id="14fa6-197">將連接器郵件張貼到頻道時, 任何資料都不會離開公司網路。</span><span class="sxs-lookup"><span data-stu-id="14fa6-197">No data leaves the corporate network when connector messages are posted to a channel.</span></span></li><li><span data-ttu-id="14fa6-198">支援可操作郵件的連接器 (REPLYTO_CONNECTOR_MESSAGE 許可權) 也不&#39;t 查看 IP 位址與引用資訊;此資訊會傳送至 Microsoft, 然後路由至先前已在連接器入口網站中向 Microsoft 註冊的 HTTP 端點。</span><span class="sxs-lookup"><span data-stu-id="14fa6-198">Connectors that support actionable messages (REPLYTO_CONNECTOR_MESSAGE permission) also don&#39;t see IP address and referrer information; this information is sent to Microsoft and then routed to HTTP endpoints that were previously registered with Microsoft in the Connectors portal.</span></span></li><li><span data-ttu-id="14fa6-199">每次為頻道設定連接器時, 就會建立該連接器實例的唯一 URL。</span><span class="sxs-lookup"><span data-stu-id="14fa6-199">Each time a connector is configured for a channel, a unique URL for that connector instance is created.</span></span> <span data-ttu-id="14fa6-200">如果該連接器實例已刪除, 就不能再使用該 URL。</span><span class="sxs-lookup"><span data-stu-id="14fa6-200">If that connector instance is deleted, the URL can no longer be used.</span></span></li><li><span data-ttu-id="14fa6-201">連接器訊息可以&#39;t 包含檔附件。</span><span class="sxs-lookup"><span data-stu-id="14fa6-201">Connector messages can&#39;t contain file attachments.</span></span></li><li><span data-ttu-id="14fa6-202">連接器實例 URL 應該視為機密/機密: 任何擁有該 URL 的人都可以張貼到該 url, 例如電子郵件地址。</span><span class="sxs-lookup"><span data-stu-id="14fa6-202">The connector instance URL should be treated as secret/confidential: anyone who has that URL can post to it, like an email address.</span></span> <span data-ttu-id="14fa6-203">因此,&#39;會有一些垃圾郵件或網路釣魚網站或惡意程式碼連結的風險。</span><span class="sxs-lookup"><span data-stu-id="14fa6-203">Therefore, there&#39;s some risk of spam or links to phishing or malware sites.</span></span> <span data-ttu-id="14fa6-204">如果發生這種情況, 小組擁有者可以刪除連接器實例。</span><span class="sxs-lookup"><span data-stu-id="14fa6-204">If that were to happen, team owners can delete the connector instance.</span></span></li><li><span data-ttu-id="14fa6-205">如果傳送連接器訊息的服務遭到破壞並開始傳送垃圾郵件/網路釣魚/惡意程式碼連結, 租使用者管理員可以避免建立新的連接器實例, 而且 Microsoft 可以集中封鎖它們。</span><span class="sxs-lookup"><span data-stu-id="14fa6-205">If the service that sends connector messages were to become compromised and start sending spam/phishing/malware links, a tenant administrator can prevent new connector instances from being created and Microsoft can block them centrally.</span></span></li></ul></td>
  </tr>
</table>

> [!Note]
> <span data-ttu-id="14fa6-206">目前不可能知道哪些連接器支援可操作的訊息 (REPLYTO_CONNECTOR_MESSAGE 許可權)。</span><span class="sxs-lookup"><span data-stu-id="14fa6-206">It's not currently possible to know which connectors support actionable messages (REPLYTO_CONNECTOR_MESSAGE permission).</span></span>


## <a name="outgoing-webhooks"></a><span data-ttu-id="14fa6-207">外寄 webhooks</span><span class="sxs-lookup"><span data-stu-id="14fa6-207">Outgoing webhooks</span></span>

<span data-ttu-id="14fa6-208">如果已為租使用者啟用側載, 則會在團隊擁有者或團隊成員即時地建立_外寄 webhooks_ 。</span><span class="sxs-lookup"><span data-stu-id="14fa6-208">_Outgoing webhooks_ are created on the fly by team owners or team members if sideloading is enabled for a tenant.</span></span> <span data-ttu-id="14fa6-209">它們不是團隊 app 的功能;包含此資訊是為了提供完整功能。</span><span class="sxs-lookup"><span data-stu-id="14fa6-209">They aren't capabilities of Teams apps; this information is included for completeness.</span></span>

<table>
  <tr>
    <th width="25%"><span data-ttu-id="14fa6-210">所需許可權</span><span class="sxs-lookup"><span data-stu-id="14fa6-210">Required permissions</span></span></th>
    <th width="25%"><span data-ttu-id="14fa6-211">選用許可權</span><span class="sxs-lookup"><span data-stu-id="14fa6-211">Optional permissions</span></span></th>
    <th width="50%"><span data-ttu-id="14fa6-212">考量</span><span class="sxs-lookup"><span data-stu-id="14fa6-212">Considerations</span></span></th>
  </tr>
    <tr>
    <td valign="top"><span data-ttu-id="14fa6-213">RECEIVE_MESSAGE, REPLYTO_MESSAGE.</span><span class="sxs-lookup"><span data-stu-id="14fa6-213">RECEIVE_MESSAGE, REPLYTO_MESSAGE.</span></span> <span data-ttu-id="14fa6-214">可以接收來自使用者的訊息並回復。</span><span class="sxs-lookup"><span data-stu-id="14fa6-214">Can receive messages from users and reply to them.</span></span></td>
    <td valign="top"><span data-ttu-id="14fa6-215">無</span><span class="sxs-lookup"><span data-stu-id="14fa6-215">None</span></span></td>
    <td valign="top"><ul><li><span data-ttu-id="14fa6-216">外寄 webhooks 與 bot 類似, 但許可權較少。</span><span class="sxs-lookup"><span data-stu-id="14fa6-216">Outgoing webhooks are similar to bots but have fewer privileges.</span></span> <span data-ttu-id="14fa6-217">您必須明確提及它們, 就像機器人一樣。</span><span class="sxs-lookup"><span data-stu-id="14fa6-217">They must be explicitly mentioned, just like bots.</span></span></li><li><span data-ttu-id="14fa6-218">註冊外寄 webhook 後, 會產生<em>秘密</em>, 這可讓傳出 webhook 驗證寄件者是否為 Microsoft 團隊, 而不是惡意攻擊者。</span><span class="sxs-lookup"><span data-stu-id="14fa6-218">When an outgoing webhook is registered, a <em>secret</em> is generated, which allows the outgoing webhook to verify that the sender is Microsoft Teams as opposed to a malicious attacker.</span></span> <span data-ttu-id="14fa6-219">這個秘密應該會保密;有權存取的任何人都可以模仿 Microsoft 團隊。</span><span class="sxs-lookup"><span data-stu-id="14fa6-219">This secret should remain a secret; anyone who has access to it can impersonate Microsoft Teams.</span></span> <span data-ttu-id="14fa6-220">如果機密遭到破壞, 就可以刪除並重新建立傳出 webhook, 並產生新的密碼。</span><span class="sxs-lookup"><span data-stu-id="14fa6-220">If the secret is compromised, the outgoing webhook can be deleted and re-created, and a new secret will be generated.</span></span></li><li><span data-ttu-id="14fa6-221">雖然&#39;可能會建立傳出 webhook, 而&#39;t 驗證機密, 但我們建議您不要使用它。</span><span class="sxs-lookup"><span data-stu-id="14fa6-221">Although it&#39;s possible to create an outgoing webhook that doesn&#39;t validate the secret, we recommend against it.</span></span></li><li><span data-ttu-id="14fa6-222">除了接收和回復郵件之外, 傳出 webhooks 可以&#39;t 執行多個動作: 它們可以&#39;t 主動傳送郵件, 他們可以&#39;t 傳送或接收檔案,&#39;即使是接收和回復郵件以外, 機器人也可以執行任何其他動作。</span><span class="sxs-lookup"><span data-stu-id="14fa6-222">Other than receiving and replying to messages, outgoing webhooks can&#39;t do much: they can&#39;t proactively send messages, they can&#39;t send or receive files, they can&#39;t do anything else that bots can do except receive and reply to messages.</span></span></li></ul></td>
  </tr>
</table>
