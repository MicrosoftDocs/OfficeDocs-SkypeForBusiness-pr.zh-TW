---
title: 商務用 Skype Server 的 TLS 和 MTLS
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
manager: serdars
audience: ITPro
ms.topic: conceptual
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.collection: IT_Skype16
ms.assetid: b32a5b85-fc82-42dc-a9b2-96400f8cd2b8
description: 傳輸層安全性（TLS）和相互傳輸層安全性（MTLS）通訊協定在網際網路上提供加密通訊和端點驗證。 商務用 Skype 伺服器使用這兩個通訊協定來建立信任伺服器的網路，並確保整個網路上的所有通訊都已加密。 伺服器之間的所有 SIP 通訊都是在 MTLS 上進行。 從用戶端到伺服器的 SIP 通訊是透過 TLS 進行。
ms.openlocfilehash: 5030916780c9e39eee10bf2c2fcb6fb213c9b075
ms.sourcegitcommit: e64c50818cac37f3d6f0f96d0d4ff0f4bba24aef
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 02/06/2020
ms.locfileid: "41815591"
---
# <a name="tls-and-mtls-for-skype-for-business-server"></a><span data-ttu-id="6c928-106">商務用 Skype Server 的 TLS 和 MTLS</span><span class="sxs-lookup"><span data-stu-id="6c928-106">TLS and MTLS for Skype for Business Server</span></span>
 
<span data-ttu-id="6c928-107">傳輸層安全性（TLS）和相互傳輸層安全性（MTLS）通訊協定在網際網路上提供加密通訊和端點驗證。</span><span class="sxs-lookup"><span data-stu-id="6c928-107">Transport Layer Security (TLS) and Mutual Transport Layer Security (MTLS) protocols provide encrypted communications and endpoint authentication on the Internet.</span></span> <span data-ttu-id="6c928-108">商務用 Skype 伺服器使用這兩個通訊協定來建立信任伺服器的網路，並確保整個網路上的所有通訊都已加密。</span><span class="sxs-lookup"><span data-stu-id="6c928-108">Skype for Business Server uses these two protocols to create the network of trusted servers and to ensure that all communications over that network are encrypted.</span></span> <span data-ttu-id="6c928-109">伺服器之間的所有 SIP 通訊都是在 MTLS 上進行。</span><span class="sxs-lookup"><span data-stu-id="6c928-109">All SIP communications between servers occur over MTLS.</span></span> <span data-ttu-id="6c928-110">從用戶端到伺服器的 SIP 通訊是透過 TLS 進行。</span><span class="sxs-lookup"><span data-stu-id="6c928-110">SIP communications from client to server occur over TLS.</span></span>
  
<span data-ttu-id="6c928-111">TLS 可讓使用者透過其用戶端軟體來驗證與其連接的商務用 Skype 伺服器伺服器。</span><span class="sxs-lookup"><span data-stu-id="6c928-111">TLS enables users, through their client software, to authenticate the Skype for Business Server servers to which they connect.</span></span> <span data-ttu-id="6c928-112">在 TLS 連線中，用戶端會從伺服器要求有效的憑證。</span><span class="sxs-lookup"><span data-stu-id="6c928-112">On a TLS connection, the client requests a valid certificate from the server.</span></span> <span data-ttu-id="6c928-113">若要有效，證書必須由用戶端也信任的 CA 所頒發，且伺服器的 DNS 名稱必須與憑證上的 DNS 名稱相符。</span><span class="sxs-lookup"><span data-stu-id="6c928-113">To be valid, the certificate must have been issued by a CA that is also trusted by the client and the DNS name of the server must match the DNS name on the certificate.</span></span> <span data-ttu-id="6c928-114">如果憑證有效，用戶端會使用憑證中的公開金鑰來加密要用於通訊的對稱加密金鑰，因此只有憑證的原始擁有者可以使用其私密金鑰來解密通訊的內容。</span><span class="sxs-lookup"><span data-stu-id="6c928-114">If the certificate is valid, the client uses the public key in the certificate to encrypt the symmetric encryption keys to be used for the communication, so only the original owner of the certificate can use its private key to decrypt the contents of the communication.</span></span> <span data-ttu-id="6c928-115">產生的連線是受信任的，而不是由其他信任的伺服器或用戶端所帶來的挑戰。</span><span class="sxs-lookup"><span data-stu-id="6c928-115">The resulting connection is trusted and from that point is not challenged by other trusted servers or clients.</span></span> <span data-ttu-id="6c928-116">在這種情況下，與 Web 服務搭配使用的安全通訊端層（SSL）可以與 TLS 建立關聯。</span><span class="sxs-lookup"><span data-stu-id="6c928-116">Within this context, Secure Sockets Layer (SSL) as used with Web services can be associated as TLS-based.</span></span>
  
<span data-ttu-id="6c928-117">伺服器對伺服器連線依賴 MTLS 進行相互驗證。</span><span class="sxs-lookup"><span data-stu-id="6c928-117">Server-to-server connections rely on MTLS for mutual authentication.</span></span> <span data-ttu-id="6c928-118">在 MTLS 連線中，產生訊息的伺服器以及從相互信任的 CA 接收它之 exchange 憑證的伺服器。</span><span class="sxs-lookup"><span data-stu-id="6c928-118">On an MTLS connection, the server originating a message and the server receiving it exchange certificates from a mutually trusted CA.</span></span> <span data-ttu-id="6c928-119">憑證證明每個伺服器的身分識別。</span><span class="sxs-lookup"><span data-stu-id="6c928-119">The certificates prove the identity of each server to the other.</span></span> <span data-ttu-id="6c928-120">在商務用 Skype Server 部署中，由企業 CA 在有效期內所頒發且未由發證 CA 撤銷的憑證會自動被所有內部用戶端和伺服器的有效，因為所有作用中的成員Directory 網域信任該網域中的企業 CA。</span><span class="sxs-lookup"><span data-stu-id="6c928-120">In Skype for Business Server deployments, certificates issued by the enterprise CA that are during their validity period and not revoked by the issuing CA are automatically considered valid by all internal clients and servers because all members of an Active Directory domain trust the Enterprise CA in that domain.</span></span> <span data-ttu-id="6c928-121">在聯盟案例中，聯盟夥伴必須信任頒發 CA。</span><span class="sxs-lookup"><span data-stu-id="6c928-121">In federated scenarios, the issuing CA must be trusted by both federated partners.</span></span> <span data-ttu-id="6c928-122">如果需要，每個合作夥伴都可以使用不同的 CA，只要其他合作夥伴也信任該 CA 即可。</span><span class="sxs-lookup"><span data-stu-id="6c928-122">Each partner can use a different CA, if desired, so long as that CA is also trusted by the other partner.</span></span> <span data-ttu-id="6c928-123">這個信任最容易由在其受信任的根 Ca 中擁有合作夥伴之根 CA 憑證的邊緣伺服器，或使用雙方信任的協力廠商 CA 來完成。</span><span class="sxs-lookup"><span data-stu-id="6c928-123">This trust is most easily accomplished by the Edge Servers having the partner's root CA certificate in their trusted root CAs, or by use of a third-party CA that is trusted by both parties.</span></span>
  
<span data-ttu-id="6c928-124">TLS 和 MTLS 可協助防止竊聽與中間人攻擊。</span><span class="sxs-lookup"><span data-stu-id="6c928-124">TLS and MTLS help prevent both eavesdropping and man-in-the middle attacks.</span></span> <span data-ttu-id="6c928-125">在中間人攻擊中，攻擊者會透過攻擊者的電腦來重置兩個網路實體之間的通訊，而不需要任何一方的知識。</span><span class="sxs-lookup"><span data-stu-id="6c928-125">In a man-in-the-middle attack, the attacker reroutes communications between two network entities through the attacker's computer without the knowledge of either party.</span></span> <span data-ttu-id="6c928-126">受信任伺服器的 TLS 及商務用 Skype 伺服器規格（只有在拓撲結構建立器中指定的那些伺服器）可透過使用公開金鑰的端對端加密來區分中間人攻擊的風險。在兩個端點之間進行密碼加密，攻擊者必須擁有具有對應私密金鑰的有效可信證書，並頒發給客戶通訊的服務名稱，以解密通訊。</span><span class="sxs-lookup"><span data-stu-id="6c928-126">TLS and Skype for Business Server specification of trusted servers (only those specified in Topology Builder) mitigate the risk of a man-in-the middle attack partially on the application layer by using end-to-end encryption coordinated using the Public Key cryptography between the two endpoints, and an attacker would have to have a valid and trusted certificate with the corresponding private key and issued to the name of the service to which the client is communicating to decrypt the communication.</span></span> <span data-ttu-id="6c928-127">不過，最終您必須遵循網路基礎結構（在此案例中為公司 DNS）的最佳安全性做法。</span><span class="sxs-lookup"><span data-stu-id="6c928-127">Ultimately, however, you must follow best security practices with your networking infrastructure (in this case corporate DNS).</span></span> <span data-ttu-id="6c928-128">商務用 Skype Server 假設 DNS 伺服器的信任方式與網網域控制站和全域編目的信任方式相同，但 DNS 針對 DNS 劫持攻擊提供的保護層級可防止攻擊者的伺服器回應成功取得哄騙名稱的要求。</span><span class="sxs-lookup"><span data-stu-id="6c928-128">Skype for Business Server assumes that the DNS server is trusted in the same way that domain controllers and global catalogs are trusted, but DNS does provide a level of safeguard against DNS hijack attacks by preventing an attacker's server from responding successfully to a request to the spoofed name.</span></span>
  

