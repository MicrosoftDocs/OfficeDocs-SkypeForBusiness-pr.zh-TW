---
title: 使用商務用 Skype Server 2015 應力與效能工具
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
ms.date: 2/13/2018
manager: serdars
audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.collection: IT_Skype16
ms.assetid: 93f42230-24a2-418d-9770-bf4670a9d78f
description: 若要執行商務用 Skype Server 2015 的壓力與效能工具，您必須能夠同時管理使用者、連絡人和使用者設定檔、設定要執行的工具，然後查看工具產生的輸出或結果。
ms.openlocfilehash: 0bdffee133e583ebaf4177d3226479838495c69f
ms.sourcegitcommit: 1a08ec9069332e19135312d35fc6a6c3247ce2d2
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 02/11/2020
ms.locfileid: "41888862"
---
# <a name="using-the-skype-for-business-server-2015-stress-and-performance-tool"></a>使用商務用 Skype Server 2015 應力與效能工具
 
若要執行商務用 Skype Server 2015 的壓力與效能工具，您必須能夠同時管理使用者、連絡人和使用者設定檔、設定要執行的工具，然後查看工具產生的輸出或結果。
  
執行商務用 Skype Server 2015 的壓力與效能工具有四個區域（可執行檔為 LyncPerfTool）：
  
- [建立使用者和連絡人](using-the-tool.md#BKMK_CreateUsersAndContacts)
    
- [設定使用者設定檔](using-the-tool.md#BKMK_UserProfile)
    
- [執行 LyncPerfTool](using-the-tool.md#BKMK_RunTool)
    
- [解釋結果](using-the-tool.md#BKMK_Interpret)
    
## <a name="create-users-and-contacts"></a>建立使用者和連絡人
<a name="BKMK_CreateUsersAndContacts"> </a>

您必須使用商務用 Skype Server 2015 （SB 2015）使用者預配工具（UserProvisioningTool），為您的壓力與效能測試建立使用者和連絡人。
  
當您閱讀主題時，以下是有用字詞的清單：
  
- **組織單位**-Active Directory 網域服務（AD DS）組織單位（OU）。
    
- 同盟 **/跨區池**-可與使用者從其他立即訊息（IM）服務進行通訊的使用者。
    
- **通訊群組清單**（或 dl）。 這些是 AD DS 中包含 AD DS 使用者清單的物件。 它們是協助跨多個使用者群組進行通訊。
    
- [**位置資訊服務**]-商務用 Skype Server 2015 服務啟用並設定為 [每電話]，可讓您檢索增強911（E911）服務的物理位置。
    
- **美國電話號碼**-指派給使用者的電話號碼，以及在反向編號查閱（RNL）中用來路由輸入和撥出電話的 SIP URI。
    
### <a name="create-users-and-contacts-by-using-userprovisioningtoolexe"></a>使用 UserProvisioningTool 建立使用者和連絡人

> [!NOTE]
> 在您開始之前，請務必確認您是以網域管理員安全性群組成員的身分登入，以執行此工具。 您必須執行此動作，因為您要建立 Active Directory 使用者。 
  
您必須使用商務用 Skype Server 使用者預配工具來建立負載模擬的使用者和連絡人。
  
商務用 skype **Server 使用者置備工具**已安裝在商務用**skype Server 壓力和效能工具**套件中。 請確定已在前端伺服器或您想要測試的標準版伺服器上執行套件安裝程式（CapacityPlanningTool）。
  
您可以在前端伺服器或標準版伺服器上執行檔案 UserProvisioningTool （位於% InstalledDirectory% LyncStressAndPerfTool \ LyncStress），以啟動商務用 Skype Server 使用者預配工具。
  
> [!IMPORTANT]
> 當您建立大量的使用者（例如，10000或更多）時，請執行 UserProvisioningTool。 您必須執行此動作，因為工具將會建立並設定*新*的 AD 使用者。
  
當使用者提供工具開啟時，請按一下 [設定]，然後選取載入設定。 
  
若要開始設定使用者和連絡人，請載入套件中包含的預設檔案，名為「SampleData」。 這將會使用範例資料來預填欄位，以便將它與您的部署相關。
  
如果您有預先配置的 XML 檔案，而該檔案已包含您的自訂設定，您可以改為載入該檔案。 如以下各節所述，請在 [使用者預配工具] 中填入欄位。
  
### <a name="to-configure-server-options"></a>若要設定伺服器選項：

1. 在 [**前端池 FQDN** ] 欄位中，輸入標準版伺服器的完整功能變數名稱（FQDN），或是您要主持使用者的前端池。
    
2. 在 [**使用者名稱首碼**] 欄位中，輸入您要用來 bust 您的使用者名稱以進行測試的前置詞（例如 "TestUser"）。
    
3. 在 [**密碼**] 欄位中，輸入將在所有測試使用者帳戶中使用的密碼。
    
4. 在 [ **Account Domain] （帳戶網域**）欄位中，輸入您目前的 AD 網域（您要在其中建立測試使用者）的功能變數名稱。
    
5. 在 [**組織單位**] 欄位中，輸入您要建立這些測試使用者之 AD 網域的名稱。 （如果 OU 尚不存在，就會為您建立）。
    
6. 在 [**電話區功能變數代碼**] 欄位中，輸入要在所有測試使用者帳戶中使用的三位數區功能變數代碼。 請確認您所選的區號與 AD 中其他使用者的區功能變數代碼不會發生衝突。
    
7. 如果您想要啟用企業語音測試使用者，請按一下以選取 [**已啟用語音**] 核取方塊。
    
8. 在 [**使用者數目**] 欄位中，給出您想要建立的測試使用者總數。
    
9. 在 [**起始索引**] 欄位中，提供要用來做為使用者名稱首碼尾碼的起始數位（例如，首碼是 "TestUser"，而第一個名稱在下列範例中將結束于 "0"。）
    
     ![[使用者供給] 工具顯示 [使用者建立] 索引標籤。](../../media/591d8280-8979-4a8c-83bc-af126e87bf29.png)
  
#### <a name="create-users-button"></a>[建立使用者] 按鈕

當您按一下 [**建立使用者**] 按鈕時，您輸入的輸入參數就會得到驗證。 如果有任何驗證錯誤，系統會提示您修正錯誤。 或者，如果所有值都正確無誤，使用者就會開始出現在 AD 中（在您指定的任何 OU 中）。 在工具執行時，您會看到一個進度列。 在進度列生效時不要關閉應用程式。
  
使用者建立需要時間，因此請據此規劃。 這個程式可能需要幾分鐘的時間才能讓幾個使用者使用，幾個小時就能完成許多使用者。
  
如果您在測試環境中沒有 AD 網網域控制站的存取權，您仍然可以在您指定要建立的使用者範圍中以其中一個使用者的身分登入，以驗證使用者建立。 請記得使用首碼及尾碼，以及 @sipDomain 作為使用者名稱。 以下是範例： <em>TestUser20@contoso.net</em> 。
  
> [!NOTE]
> 如果使用者已經存在，按一下 [建立使用者] 按鈕就會以任何設定變更進行更新。 
  
#### <a name="delete-users-button"></a>[刪除使用者] 按鈕

當您按一下 [**刪除使用者**] 按鈕時，會驗證索引標籤的輸入參數。 如果有驗證錯誤，系統會提示您修正這些錯誤，如果輸入值正確，指定的測試使用者將會停用，並從 Active Directory 中刪除。 同樣地，進度列會出現在此索引標籤的底部，而且您不應該在進度列開啟時關閉應用程式。
  
> [!NOTE]
> 僅支援美國格式的電話號碼。 電話號碼永遠會指派給使用者，而由 UserProvisioningTool 所建立的所有使用者預設都會啟用企業語音。 使用電話號碼（例如會議自動語音應答或 UC PSTN 通話）的任何案例，都可以使用此電話號碼來正確路由通話。 基於這個原因，*每個使用者*都必須有*唯一的電話號碼*。
  
> [!NOTE]
> **如果您必須建立使用者兩次，除非您使用不同的區號，或使用 Disable Move-csuser Cmdlet 來停用先前的使用者，否則命令將會失敗。**
  
> [!IMPORTANT]
> 在您建立連絡人之前，您必須先完成使用者複製（從 [使用者] 索引標籤完成）。 
  
> [!IMPORTANT]
> 如果您剛剛建立使用者，您必須等到商務用 Skype Server 複製完成，然後填入資料庫中的使用者帳戶。 **如果使用者還沒有完成複製，您會看到錯誤。** 如果商務用 Skype Server 2015 前端服務已啟動，或是成功在您指定之總數的最後一個使用者上執行 Move-csuser Cmdlet，您就會知道使用者已完成複製的時間。
  
#### <a name="contacts-creation-tab"></a>連絡人 [建立] 索引標籤

這個索引標籤可讓您為您的測試提供使用者的連絡人詳細資料。
  
![[使用者供給] 工具顯示 [內容建立] 索引標籤。](../../media/dfb7fdf1-fb97-4e8e-8608-c4995f95dd5b.png)
  
### <a name="to-configure-users-contacts-do-the-following"></a>若要設定使用者的連絡人，請執行下列動作：

1. 在 [**每位使用者的平均聯絡**人] 欄位中，輸入要在連絡人清單中為每位使用者填入的連絡人的平均數目。
    
2. 如果您想要為每位使用者建立同等數量的連絡人，請選取 [**固定**] 核取方塊。 如果您想要變更為使用者建立的連絡人數目，請清除該核取方塊。
    
3. 在 [**每位使用者的平均連絡人群組**] 欄位中，輸入每位使用者的連絡人群組數量。 這個數位必須小於**每位使用者的平均聯絡**人。
    
4. 在 [**聯盟/跨系池連絡人百分比**] 欄位中，為0到100之間的數位。 系統會使用聯盟使用者建立此連絡人的百分比。
    
5. 在 [同盟 **/交叉池使用者**編號] 欄位中，為將新增至本機使用者連絡人清單的聯盟使用者提供使用者名稱。
    
6. 在 [同盟 **/跨池使用者 SIP 網域**] 欄位中，請提供聯盟使用者的 SIP 功能變數名稱。
    
7. 在 [**使用者建立**] 索引標籤中，請確定資訊正確無誤。 您的連絡人將會從 [使用者建立] 索引標籤上的值建立。
    
8. 按一下 [**建立連絡人**]，開始建立連絡人。 這個程式可能需要幾分鐘的時間。 完成之後，會出現一個對話方塊，其中顯示 [作業已順利完成] 訊息。 您可以從以使用者 [建立] 索引標籤建立的使用者身分登入，以驗證所建立的連絡人。
    
    > [!NOTE]
    > 建立連絡人之後，此工具會重新開機目標池中的所有前端伺服器。 前端伺服器可能需要較長時間（最多2小時）才能啟動，視這個作業建立的連絡人數量而定。 
  
#### <a name="distribution-list"></a>通訊群組清單

商務用 Skype Server 2015 的應力與效能工具可以模擬商務用 Skype 2015 用戶端中的通訊群組清單（DL）擴充功能。 如果您不想在使用者供給工具中啟用 DL 延伸，您可以略過這個步驟。
  
![[使用者供給] 工具顯示 [通訊群組清單建立] 索引標籤。](../../media/4b689306-70c4-4569-9842-15c73f038eb6.png)
  
[通訊群組清單] 索引標籤可讓您建立使用壓力與效能工具來進行通訊群組清單擴充功能的 Dl。 建立 DLs 之前，必須先部署商務用 Skype Server 2015，包括擁有 run ForestPrep。 如果這項操作沒有完成，則在 AD 架構中不會存在 DL 屬性，因此該工具將無法建立 DLs。
  
### <a name="to-configure-distribution-lists"></a>若要設定通訊群組清單：

1. 在 [**通訊群組清單數目**] 欄位中，為您想要建立的 dl 加總數量（此處的建議是，您的值是您所擁有的使用者數加倍）。
    
2. 在 [**通訊群組清單首碼**] 欄位中，輸入您所建立的所有 DLs 將擁有的首碼，例如*testDL* 。 也就是說，在 100 Dl，您的 DL 名稱看起來會像這樣： testDL0、testDL1、最多 testDL99。
    
3. 在 [ **Dist] 中的 [最小成員] 清單**中，輸入要放在每個 DL 中的最小使用者數。
    
4. 在 [ **Dist] 中的 [最大成員**數] 欄位中，輸入要在每個 DL 中新增的使用者數目上限。
    
#### <a name="create-distribution-lists-button"></a>建立通訊群組清單按鈕

當您按一下 [建立通訊群組清單] 按鈕時，該工具會查詢 Active Directory，以查看是否有符合該首碼與編號的通訊群組清單。 此工具會建立任何不存在的 Dl。 將成員新增到這些新建立的通訊群組清單時，會從 [使用者建立] 索引標籤上指定的範圍中選擇使用者。
  
#### <a name="location-info-service-config-tab"></a>位置資訊服務 [配置] 索引標籤

商務用 Skype Server 2015 的應力與效能工具也可以產生位置資訊服務的虛擬設定檔。 請注意，位置資訊服務通常不會對伺服器產生顯著的效能影響。 
  
![顯示位置資訊服務 [配置] 索引標籤的使用者供給工具。](../../media/227662a2-e0c3-4e34-ab54-5f1459344f30.png)
  
如果您選擇測試此功能，請填寫表單中的值，然後按一下將會建立的 [產生 .LIS 配置檔案] 按鈕。名為的 CSV 檔案：
  
- LIS_Subnet .csv
    
- LIS_Switches .csv
    
- LIS_Ports .csv
    
- LIS_WAP .csv
    
若要將這些檔案匯入 IIS 資料庫，請使用下列 PowerShell Cmdlet：
  
- Set-CsLisSubnet
    
- Set-CsLisSwitch
    
- Set-CsLisPort
    
- Set-CsWirelessAccessPoint
    
## <a name="configure-user-profile"></a>設定使用者設定檔
<a name="BKMK_UserProfile"> </a>

建立使用者之後（透過使用者建立工具），您可以使用商務用 Skype Server 2015 載入組態工具（UserProfileGenerator）來設定使用者設定檔。
  
### <a name="running-the-skype-for-business-server-2015-load-configuration-tool"></a>執行商務用 Skype Server 2015 載入組態工具

啟動 [載入設定] 工具（UserProfileGenerator）並填入索引標籤。 這個工具會為您需要執行模擬的每個用戶端電腦建立目錄。 每個用戶端目錄都隨附一個腳本來啟動商務用 Skype Server 2015 應力和效能工具（LyncPerfTool）。 下列各節將提供範例，說明如何在商務用 Skype Server 2015 載入設定工具的每個索引標籤上填入欄位。
  
> [!IMPORTANT]
> 載入組態工具（UserProfileGenerator）中使用的使用者特定值，必須符合在該池的商務用 Skype Server 2015 使用者建立工具（UserProvisioningTool）中指定的值。 
  
#### <a name="common-configuration-tab"></a>[常用設定] 索引標籤

[載入設定] 工具的 [**一般**設定] 索引標籤如下所示。 填寫 [通用設定] 索引標籤的欄位，如以下步驟所述。
  
![[使用者供給] 索引標籤顯示 [一般設定] 索引標籤。](../../media/c25df343-3550-47fb-88e0-29194338fee2.png)
  
1. 在 [**可用的電腦數目**] 欄位中，輸入您要用來執行壓力與效能工具（LyncPerfTool）的電腦數目。 我們建議您針對您要模擬的每個4500使用者使用一部電腦，但如果您減少載入層級，或只使用工具的可用功能子集（在 [一般情況] 索引標籤上設定載入層級），則該數位可能會有所不同。
    
2. 在 [**使用者名稱的首碼**] 欄位中，輸入所有使用者之 [使用者名稱] 欄位的首碼。 若要登入 [統一資源識別項（URI）]，請： *UserPrefix [使用者起始索引 ...]（使用者數目-1）]@User 網域*，例如 myUser009@Contoso.com。
    
3. 在 [**所有使用者的密碼**] 欄位中，輸入使用者建立時所用的密碼。 如果您將此欄位保留空白，則會將該使用者名稱設定為密碼。
    
4. 在 [**使用者起始索引**] 欄位中，輸入要設定的第一個使用者索引。 您可以針對不同的負載類型或等級設定不同的範圍，但您必須針對您想要設定的範圍執行一次 [載入設定] 工具（UserProfileGenerator）。
    
5. 在 [**使用者數目**] 欄位中，輸入您要設定的使用者總數。
    
6. 在 [**使用者網域**] 欄位中，輸入用於 SIP URI 的網域。 這是用來構造每個使用者的 SIP URI，以登入商務用 Skype Server 2015 前端伺服器或標準版伺服器，而且可能與帳戶網域不同。
    
7. 在 [ **Account Domain] （帳戶網域**）欄位中，輸入 AD DS 網域登入。
    
8. 在 [ **MPOP 百分比**（多重目前狀態百分比）] 欄位中，為從多個電腦或裝置登入的使用者百分比提供值，例如10%。
    
9. 在 [**每秒登錄數（每個實例）** ] 欄位中，輸入並行端點的最大數目。 這是您的使用者最多登入次數，而建議是每秒小於/等於2的速率（<= 2）。
    
10. 在 [**存取代理伺服器] 或 [池 FQDN** ] 欄位中，輸入您要用戶端連線之伺服器的完整功能變數名稱（FQDN）。 如果使用者是在外部登入，您必須輸入訪問 proxy proxy。 如果使用者是 internal，請提供其企業版池或標準版伺服器的 FQDN。
    
11. 在 [ **Port** ] （埠）欄位中，輸入您希望使用者使用的 SIP 埠（預設值為5061）。
    
12. 針對 [**外部網路伺服器設定**] 欄位，請授與 [存取代理伺服器] 或 [池 FQDN]，然後再按一次**埠**。 這些設定僅用於外部端點的負載模擬。
    
#### <a name="general-scenarios-tab"></a>[一般情況] 索引標籤

![[載入設定] 工具顯示 [一般情況] 索引標籤。](../../media/45792e57-4322-4c20-956f-fe480b0de1a7.png)
  
您可以透過判斷您想要執行或保留停用的內容，來設定每個一般案例所提供的負載等級與參數。 以下是您的一般選項：
  
> [!NOTE]
> 針對所有欄位載入層級值，但會**停用**、**低**、**中**、**高**或**自訂**的 [本機資訊服務]。 如果您選取任何設定但已停用，則會針對每個用戶端產生配置。 [高] 會產生伺服器支援的最大負載;[中] 是高負載的 60%;低為30%。 
  
- **立即訊息-** 這包括對等與會議;針對載入層級選擇適當的值。
    
- **音訊會議-** 選擇*僅限*音訊會議的負載等級。 在 [**語音案例**] 區段中，稍後會 tackled 對等通話。 開啟 [**高級**] 索引標籤以啟用 [各頁]。
    
- **應用程式共用-** 選擇應用程式共用的負載層級。
    
- **資料共同作業-** 選擇資料共同作業的負載層級，包括資料會議。
    
- **通訊群組清單延伸-** 按一下 [**高級**] 按鈕，然後在 [使用者建立工具] （UserProvisioningTool）的 [DL] 索引標籤上，使用相同的值填入欄位。 選擇負載等級。
    
- **通訊錄網頁查詢-** 這是通訊錄查閱服務，而不是通訊錄檔案下載。 如果您想要針對通訊錄檔案下載啟用此選項，請按一下 [**高級**] 按鈕，並將 [ **EnableABSDownload** ] 設定為 True。 為載入層級提供值。
    
- **回應群組服務-** 按一下 [**高級**] 按鈕，然後指定您在已提供回應群組服務代理程式時所建立之回應群組的 uri。 您必須選擇至少一個回應群組。 若要使用其他，請以分號分隔回應群組。 將**RGSUriSuffixStartIndex**和**RGSUriSuffixEndIndex**更新為實際值。 選擇負載等級。
    
- **位置資訊服務-** 選取 [已啟用] 或 [已停用] 的負載等級。
    
> [!NOTE]
> 每個案例旁邊都有一個 [高級] 按鈕，以及一組可讓您變更預設設定的核取方塊。 
  
- 選擇 [*隨機*] 會讓此工具產生一段時間內將建立的會議類比。
    
- 選擇 [*大型*會議] 表示將會模擬大型會議案例。
    
-  [*外部*] 告訴該工具也要模仿外部使用者。
    
這些按鈕和核取方塊是每個案例專用的額外值，會變更壓力和效能工具的行為，並使自訂成為可能。
  
針對 [一般案例] 索引標籤上的每個案例（[位置資訊服務] 除外），如果 [載入層級] 的值是 [**自訂**]，則會使用 [高級] 對話方塊中對應的欄位來計算交談比率。 根據案例而定，功能變數名稱可能會有所不同，但欄位描述將會*是：請注意，只有從下拉式功能表中選取 [自訂] 時，才會使用此號碼*。
  
[**高**]、[**中**] 和 [**低**] 值會依與所有案例平衡的使用者模型來變更每個模態的交談比率。 如果由於預期使用量差異而需要變更每個模態的負載等級，請使用自訂交談比率。
  
#### <a name="voice-scenarios-tab"></a>[語音案例] 索引標籤

這是設定所有語音相關案例的索引標籤。
  
![[載入設定工具語音案例] 索引標籤。](../../media/042e406f-5156-4095-a4eb-6298f24bb51f.png)
  
您的選項包括：
  
- **VoIP-** 按一下 [**高級**] 按鈕，然後新增 [PhoneAreaCode] 和 [LocationProfile] （撥號計畫）欄位的值。 您也會為載入層級提供一個值。 如果您選擇 [VoIP] 或 [UC/PSTN 閘道] 的負載等級，則會產生公用交換電話網絡（PSTN）至整合通訊（UC）配置檔案，以模擬外部呼叫。
    
- **UC/PSTN 閘道-** 您必須選擇負載等級值，當您選擇 [停用] 以外的任何專案時，您也可以按一下 [**高級**] 按鈕，為 PSTN 區功能變數代碼提供一個值。 按一下 [中繼伺服器] 和 [PSTN] 底下的 [**新增**]。 請確定您已為區號設定路由。
    
    > [!TIP]
    > 您可以使用商務用 Skype 的 [控制台] 或 [商務用 Skype] 管理命令介面來驗證您的語音路線設定。 
  
- **會議助理-** 為載入層級提供一個值。 [停用] 以外的任何值都會啟用 [**電話號碼**] 欄位。 輸入您要使用之自動助手的電話號碼。 按一下 [**高級**]，然後為 [ **LocationProfile** ] 欄位提供一個值。
    
- **呼叫停用服務-** 在這裡，提供一個負載等級。
    
- **中繼伺服器與 PSTN-** 每個您想要使用的中繼伺服器都需要自己的 PSTN 模擬器。 在您決定要將哪些用戶端用於模擬器之後，請設定您的中繼伺服器將呼叫路由到您所設定的 PSTN 模擬器上的該電腦。 按一下 [ **Add** ] （新增）按鈕，為中繼伺服器設定值。
    
    > [!NOTE]
    > 每個案例旁邊都有一個 [高級] 按鈕。 [高級] 對話方塊包含可變更壓力與效能工具行為並啟用自訂之每個案例的特定設定。 > 針對 [語音案例] 索引標籤上的每個案例，如果 [載入層級] 的值是 [**自訂**]，則會使用 [高級] 對話方塊中對應的欄位來計算交談比率。 根據案例而定，功能變數名稱可能會有所不同，但欄位描述將會*是：請注意，只有從下拉式功能表中選取 [自訂] 時，才會使用此號碼*。
  
#### <a name="web-app-tab"></a>[Web App] 索引標籤

![載入 [組態工具]、[Web 應用程式] 索引標籤。](../../media/505b54ef-8140-4dec-a43e-08091f592b34.png)
  
Web App 可透過安裝在前端伺服器上的統一通訊 Web API （UCWA）伺服器，來支援會議案例。 使用 [Web 應用程式] 索引標籤來設定所有與 Web 應用程式相關的案例。 選項包括：
  
- **一般 Web App 設定-** 按一下 [**其他設定**] 按鈕，並將**ReachTargetServerUrl**設定為前端池 VIP 的目錄池虛擬 IP （VIP）。
    
- **應用程式共用-** 選取 [負載等級] 的值。
    
- **資料共同作業-** 選取 [負載等級] 的值。
    
- **立即訊息-** 選取 [負載等級] 的值。
    
- **語音會議-** 選取 [負載等級] 的值。
    
> [!NOTE]
> 每個案例旁邊都有一個 [**高級**] 按鈕。 [高級] 對話方塊包含每個案例專用的值，這些專案會變更壓力與效能工具的行為，並啟用自訂。針對每一個 Web 應用程式案例 >，如果載入層級是 [**自訂**]，則會使用 [ **ConversationsPerHour** ] 欄位中指定的值，而不是預設值。
  
#### <a name="mobility-tab"></a>[行動] 索引標籤

使用此索引標籤來設定行動相關的所有案例。
  
![載入 [設定工具行動] 索引標籤。](../../media/30af39c2-50ea-476a-8a56-ce2ddf08517e.png)
  
這裡的選項如下：
  
- **一般行動設定-** 按一下 [**其他設定**]，然後將 [欄位 UcwaTargetServerUrl] 設定為 [控制器池虛擬 IP （VIP）] 或 [頂層端池 VIP]。
    
- 目前**狀態與 P2P 立即訊息/音訊-** 選取 [負載等級] 的值，即可啟用行動模擬。
    
> [!NOTE]
> 每個案例旁邊都有一個 [**高級**] 按鈕。 [高級] 對話方塊包含每個案例專用的值，這些專案會變更壓力與效能工具的行為，並啟用自訂。 > 針對每一個行動案例，如果載入層級為 [**自訂**]，則會使用 [ **ConversationsPerHour** ] 欄位中指定的值，而不是預設值。
  
#### <a name="summary-tab"></a>[摘要] 索引標籤

[摘要] 索引標籤會指出要在每個案例中使用的使用者。
  
![載入 [組態工具摘要] 索引標籤。](../../media/436fb3f2-d73e-402d-bc6e-e8a6740819d2.png)
  
[摘要] 索引標籤會指出要在每個案例中使用的使用者。 
  
若要手動設定使用者編號範圍，請選取 [**啟用自訂使用者範圍產生**] 核取方塊，然後在包含您要自訂之使用者範圍的資料表中，按兩下該案例。
  
Check **（RunClient）在啟動時加入登入延遲**，以便在產生的批次檔案中包含延遲，以對應到登入速率。 在登入大量的使用者時，這對避免伺服器超載很有用。
  
按一下 [**產生**檔案]，然後選取您要產生配置的資料夾。 成功建立檔案後，就會出現一個對話方塊。
  
![[載入設定檔已成功產生] 訊息方塊。 只要按一下 [確定]。](../../media/c3c1d4a0-cb44-4837-8124-03354f5d9d8c.png)
  
## <a name="run-lyncperftool"></a>執行 LyncPerfTool
<a name="BKMK_RunTool"> </a>

您必須先建立使用者、連絡人和案例，然後才能執行商務用 Skype Server 2015 應力和效能工具（LyncPerfTool）。 如需使用工具執行這些動作的詳細資料，請參閱[建立使用者和連絡人](using-the-tool.md#BKMK_CreateUsersAndContacts)，並在本文先前[設定使用者設定檔](using-the-tool.md#BKMK_UserProfile)。 執行這些工具時，也會產生一個檔案，該檔案會以壓力與效能工具一起執行，做為包含所需參數的批次檔案的一部分。
  
### <a name="running-the-skype-for-business-server-2015-stress-and-performance-tool"></a>執行商務用 Skype Server 2015 應力與效能工具

載入組態工具（UserProfileGenerator）會建立一個批次處理檔案，讓您以執行壓力與效能工具（LyncPerfTool），方法是註冊效能計數器並載入 XML 設定檔。 批次處理檔案會針對每個設定檔執行 LyncPerfTool 的一個實例。 若要執行批次檔案，請依照下列步驟執行：
  
### <a name="run-the-stress-and-performance-test"></a>執行壓力與效能測試

1. 在每個用戶端電腦上都有 LyncPerfTool 的目錄中，將資料夾與配置資料夾及檔案一起複製。 （例如，如果您在名為 1.28 _ 13.16.16 的資料夾中產生了設定檔案，請將該資料夾複製到其中有 LyncPerfTool .exe 的資料夾中。 在每個用戶端執行此動作。）
    
2. 流覽至用戶端資料夾，並執行**RunClient**批次腳本。 您可以在 Windows 資源管理器中按兩下批次檔案，該檔案將會執行該用戶端的所有設定檔。 您也可以使用下列語法，從用戶端資料夾執行腳本：
    
   ```console
   RunClient0.bat "C:\Program Files\Skype for Business Server 2015\LyncStressAndPerfTool\LyncStress" 
   ```

若要直接執行壓力與效能工具，請開啟命令提示字元，然後在命令列中輸入下列命令（第一次執行此動作時，請務必註冊效能計數器`regsvr32 /i /n /s LyncPerfToolPerf.dll`，如本主題後面的記事所示）：
  
```console
LyncPerfTool.exe /file:IM_client0.xml
```

若要讓工具顯示配置檔案中的值，請在前面`/displayfile`的命令中加入參數，使其看起來像這樣：
  
```console
LyncPerfTool.exe /file:IM_client0.xml /displayfile
```

若要*結束*處理常式，請按 Ctrl + C。
  
> [!NOTE]
> 在直接執行壓力與效能工具之前，您必須透過下列命令來註冊效能計數器：`regsvr32 /i /n /s LyncPerfToolPerf.dll`
  
> [!NOTE]
> 您啟動的壓力與效能工具的每個實例，都會立即開始登入使用者，通常是每秒一個使用者的頻率。 
  
該池的使用者登入速率峰值，大約每秒12次。 這表示使用者仍在登入時，您不應該同時啟動超過12個 LyncPerfTool 實例。 1000使用者大約需要20分鐘的時間，以每秒完全登入。
  
## <a name="interpreting-the-results"></a>解釋結果
<a name="BKMK_Interpret"> </a>

商務用 Skype Server 2015 的應力和效能工具有許多計數器可協助您瞭解用戶端正在執行的工作，以及是否遇到問題。
  
### <a name="client-counters"></a>用戶端計數器

每個執行中的 LyncPerfTool 實例都有個別的計數器實例。 每個實例都是以其進程識別碼命名。 如果用戶端超載，可能會發生其他問題。 若要避免這些問題：
  
- 監視用戶端電腦上的 CPU 和記憶體使用量。 如果 CPU 持續超過90%，請減少使用者數目。
    
- 當記憶體佔用量較高時，如果頁面檔案開始耗盡空間，可能會遇到問題。 確認確認費用未超出電腦的限制。 如果您正在執行記憶體限制，請考慮增加頁面檔案大小或減少使用者數目。
    
以下是主要效能計數器的清單：
  
**一般資訊**

|**效能計數器**|**描述**|
|:-----|:-----|
|花費的時間（以分鐘為單位）  <br/> |進程開始之後所花費的時間。  <br/> |
|作用中端點  <br/> |目前連線到伺服器的端點數目。  <br/> |
|失敗的登錄  <br/> |端點登入失敗的總數。  <br/> |
|登入嘗試  <br/> |端點登入嘗試的總數。  <br/> |
|端點已中斷連接  <br/> |已中斷連線的端點總數。  <br/> |
   
**目前狀態資訊**

|**效能計數器**|**描述**|
|:-----|:-----|
|SetPresence 通話  <br/> |目前狀態變更嘗試的總數。 針對不同類型的目前狀態變更，請參閱 SetPresence （目前狀態類型）通話效能計數器。  <br/> |
|SetPresence 的 NNN 回應  <br/> |從伺服器接收的 nnn 回應碼總數目。  <br/> |
|GetPresence 通話  <br/> |[取得目前狀態] 要求嘗試的總數。  <br/> |
|GetPresence 的 NNN 回應  <br/> |從伺服器接收的 nnn 回應碼總數目。  <br/> |
   
**通訊錄服務資訊**

|**效能計數器**|**描述**|
|:-----|:-----|
|嘗試的 ABS 完整/增量檔案下載  <br/> |已嘗試完整或增量檔案下載要求的總數目。  <br/> |
|ABS 完整/Delta 檔案下載成功  <br/> |已嘗試完整或增量檔案下載要求的總數目。  <br/> |
|通訊錄 Web 查詢服務相關計數器  <br/> |通訊錄檔案下載相關計數器。  <br/> |
|嘗試 ABS 通話  <br/> |嘗試的通訊錄 Web 查詢服務要求總數。  <br/> |
|ABS WS 通話成功  <br/> |傳回成功回應代碼之通訊錄 Web 查詢服務要求的總數。  <br/> |
|ABS WS 通話失敗  <br/> |傳回錯誤回應代碼之通訊錄 Web 查詢服務要求的總數。  <br/> |
   
> [!NOTE]
> 此類別包含用來監視通訊錄服務（ABS）檔案下載和通訊錄網頁查詢服務要求的計數器。 
  
**通訊群組清單（DL）資訊**

|**效能計數器**|**描述**|
|:-----|:-----|
|已嘗試來電  <br/> |嘗試的通訊群組清單展開（DLX） web 服務要求總數。  <br/> |
|通話成功  <br/> |傳回成功回應代碼之 DLX web 服務要求的總數目。  <br/> |
|通話失敗  <br/> |傳回錯誤回應代碼之 DLX web 服務要求的總數。  <br/> |
   

  
> [!NOTE]
> 在啟用這些案例時，以下所列的效能計數器會列示在所有的語音 IP （VoIP）通話中，包括對轉送伺服器、A/V 會議伺服器、邊緣伺服器、回應群組應用程式，以及會議自動語音應答。 
  
**VoIP 基本資訊**

|**效能計數器**|**描述**|
|:-----|:-----|
|使用中的通話  <br/> |目前正在進行的傳入/傳出語音通話總數。  <br/> |
|呼叫終止  <br/> |已終止的傳入/傳出語音通話總數。  <br/> |
|拒絕通話  <br/> |已拒絕的來電通話總數。  <br/> |
|已嘗試來電/撥出通話  <br/> |已嘗試輸入/撥出語音通話的總數。  <br/> |
|已建立來電/撥出通話  <br/> |已建立的傳入/傳出語音通話總數。  <br/> |
|呼叫已收到 NNN  <br/> |從伺服器接收的 nnn 回應碼總數目。  <br/> |
|VoIP 傳遞率（%）  <br/> |已建立的通話總數/嘗試的通話總數。  <br/> |
   
**回應群組服務通話資訊**

|**效能計數器**|**描述**|
|:-----|:-----|
|使用中的通話  <br/> |回應群組應用程式的使用中通話總次數。  <br/> |
|已嘗試來電  <br/> |嘗試的通話總次數。  <br/> |
   
**立即訊息（IM）通話資訊**

|**效能計數器**|**描述**|
|:-----|:-----|
|使用中的通話  <br/> |正在進行內傳/撥出的立即訊息通話總數。  <br/> |
|呼叫終止  <br/> |已終止傳入/傳出立即訊息通話的總數。  <br/> |
|呼叫已收到 NNN  <br/> |從伺服器接收的 nnn 回應碼總數目。  <br/> |
|接收/傳送的 IM 訊息  <br/> |所有會話接收或傳送的訊息總數。  <br/> |
|已嘗試來電/撥出通話  <br/> |嘗試的傳入/傳出立即訊息呼叫總數。  <br/> |
|已建立來電/撥出通話  <br/> |已建立的傳入/傳出立即訊息通話總數。  <br/> |
   
**App 共用呼叫資訊**

|**效能計數器**|**描述**|
|:-----|:-----|
|使用中的通話  <br/> |正在進行中傳入/傳出應用程式共用通話的總數。  <br/> |
|呼叫終止  <br/> |已終止的傳入/傳出應用程式共用通話總數。  <br/> |
|呼叫已收到 NNN  <br/> |從伺服器接收的 nnn 回應碼總數目。  <br/> |
|已嘗試來電/撥出通話  <br/> |嘗試的傳入/傳出應用程式共用呼叫總數。  <br/> |
|已建立來電/撥出通話  <br/> |已建立的傳入/傳出應用程式共用通話總數。  <br/> |
   
**CAA 通話資訊**

|**效能計數器**|**描述**|
|:-----|:-----|
|使用中的通話  <br/> |目前正在進行中的內送/出局公用電話網絡（PSTN）通話總數。  <br/> |
|呼叫終止  <br/> |已終止的傳入/傳出 PSTN 通話總數。  <br/> |
|已嘗試來電/撥出通話  <br/> |嘗試的傳入/傳出 PSTN 呼叫總數。  <br/> |
|已建立來電/撥出通話  <br/> |已建立的傳入/傳出 PSTN 通話總數。  <br/> |
   
**會議資訊**

|**效能計數器**|**描述**|
|:-----|:-----|
|即時立即訊息會議  <br/> |即時立即訊息會議的總數。  <br/> |
|活動音訊/視訊會議  <br/> |正在進行的音訊/視頻（A/V）會議總數。  <br/> |
|使用中的應用程式共用會議  <br/> |正在進行的應用程式共用會議總數。  <br/> |
|參與者人數  <br/> |目前與會議連接的參與者總數。  <br/> |
|會議排程失敗  <br/> |嘗試排程會議時失敗的總數。  <br/> |
|加入會議失敗  <br/> |嘗試連線到會議時失敗的總數。  <br/> |
   
**UCWA 用戶端計數器**

|**效能計數器**|**描述**|
|:-----|:-----|
|成功的 IMMCU 連接總數  <br/> |已加入之立即訊息會議的總數。  <br/> |
|成功的 DMCU 連接總數  <br/> |已加入/V 會議的總數。  <br/> |
   

